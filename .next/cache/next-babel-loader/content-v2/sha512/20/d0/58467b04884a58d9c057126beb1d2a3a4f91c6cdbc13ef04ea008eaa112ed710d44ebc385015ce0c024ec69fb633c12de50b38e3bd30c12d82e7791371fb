{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/dmytro.borodin/Documents/NextJS/nextjs-blog-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useRef, useState, Fragment } from \"react\";\nimport Notification from \"../../ui/notification/notification\";\nimport classes from \"./contact-form.module.css\";\n\nfunction ContactForm(props) {\n  var emailInputRef = useRef();\n  var nameInputRef = useRef();\n  var messageInputRef = useRef();\n\n  var _useState = useState(),\n      responseStatus = _useState[0],\n      setResponseStatus = _useState[1];\n\n  function submitFormHandler() {\n    return {\n      email: emailInputRef.current.value,\n      name: nameInputRef.current.value,\n      message: messageInputRef.current.value\n    };\n  }\n\n  function sendMessageOnSubmit(e) {\n    e.preventDefault();\n    setResponseStatus({\n      title: \"Sending Message...\",\n      status: \"panding\",\n      message: \"Sending your message, please wait...\"\n    });\n    fetch(\"/api/contact\", {\n      method: \"POST\",\n      body: JSON.stringify(_objectSpread({}, submitFormHandler())),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      console.log(res);\n      setResponseStatus({\n        title: \"Sent Message\",\n        status: \"success\",\n        message: \"Message sent succesfuly\"\n      });\n    })[\"catch\"](function (error) {\n      console.log(error);\n      setResponseStatus({\n        title: \"Error\",\n        status: \"error\",\n        message: \"Sending message id failed\"\n      });\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"section\", {\n      className: classes.contact,\n      onSubmit: sendMessageOnSubmit,\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        children: \"How can I help you?\"\n      }), /*#__PURE__*/_jsxs(\"form\", {\n        action: \"\",\n        className: classes.form,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: classes.controls,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: classes.control,\n            children: [/*#__PURE__*/_jsx(\"label\", {\n              htmlFor: \"email\",\n              children: \"Your email\"\n            }), /*#__PURE__*/_jsx(\"input\", {\n              ref: emailInputRef,\n              type: \"email\",\n              id: \"email\",\n              required: true\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: classes.control,\n            children: [/*#__PURE__*/_jsx(\"label\", {\n              htmlFor: \"name\",\n              children: \"Your name\"\n            }), /*#__PURE__*/_jsx(\"input\", {\n              ref: nameInputRef,\n              type: \"text\",\n              id: \"name\"\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            htmlFor: \"message\",\n            children: \"Your message\"\n          }), /*#__PURE__*/_jsx(\"textarea\", {\n            ref: messageInputRef,\n            name: \"message\",\n            id: \"message\",\n            cols: \"30\",\n            rows: \"5\"\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: classes.actions,\n          children: /*#__PURE__*/_jsx(\"button\", {\n            children: \"Send message\"\n          })\n        })]\n      })]\n    }), responseStatus && /*#__PURE__*/_jsx(Notification, {\n      title: responseStatus.title,\n      message: responseStatus.message,\n      status: responseStatus.status\n    })]\n  });\n}\n\nexport default ContactForm;","map":null,"metadata":{},"sourceType":"module"}